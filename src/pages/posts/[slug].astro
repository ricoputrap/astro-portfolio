---
import { getCollection } from "astro:content";

export async function getStaticPaths() {
  const posts = await getCollection("posts");
  const nonDraftPosts = posts.filter(post => !post.data.draft);

  return nonDraftPosts.map(post => ({
    params: { slug: post.slug }, props: { post }
  }));
}

const { post } = Astro.props;
const { Content } = await post.render();
---
<div class="content">
  <Content />
</div>

<style is:inline>
  h2 { font-size: 28px; }
  h3 { font-size: 24px; }
  h2, h3 {
    margin-top: 40px;
  }

  pre {
    background-color: #252525 !important;
    color: #FFF;
    border-radius: 10px;
    padding: 20px;
    font-size: 18px;
    line-height: 24px;
  }

  p code {
    background-color: rgba(135,131,120,0.15);
    color: #EB5757 !important;
    padding: 4px;
    border-radius: 5px;
  }

  @media screen and (max-width: 425px) {
    h2 { font-size: 24px; }
    h3 { font-size: 20px; }
    p {
      font-size: 14px;
      line-height: 28px;
    }

    pre {
      font-size: 14px;
    }
  }
</style>